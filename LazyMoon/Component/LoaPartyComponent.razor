@using Class.Loa
@using System.Linq

<MudItem xs="12" sm="6">
    <MudStack Class="mt-3" Row="true">
        <MudText Typo="Typo.h5">@($"{Order + 1} {(IsEnglish ? "Party" : "파티")}")</MudText>
        <MudText Class="mt-1">@($"{(IsEnglish ? "Player" : "인원")} {LoaParty.MaxCombinations - LoaParty.CurrnetCombinations} / {LoaParty.MaxCombinations} {(IsEnglish ? "Supporter" : "서포터")}{LoaParty.MaxSupoter - LoaParty.CurrentSupoter} / {LoaParty.MaxSupoter}")</MudText>
    </MudStack>
    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudDropContainer @ref="_container" T="DropItem" Items="_items" ItemsSelector="@((item,dropzone) => item.Identifier == dropzone)" ItemDropped="ItemUpdated" Class="d-flex flex-wrap flex-grow-1">
                <ChildContent>
                    <MudDropZone Style="height:350px" T="DropItem" Identifier="Item" AllowReorder Class="rounded mud-background-gray pa-6 ma-8 flex-grow-1">

                    </MudDropZone>
                    <MudDropZone T="DropItem" Identifier="Delete" OnlyZone AllowReorder Class="relative rounded-lg border-danger border-2 border-dashed pa-4 mt-4 mud-width-full mud-height-full z-10">
                        <MudText Typo="Typo.h6" Class="mb-4">@(IsEnglish ? "Delete" : "삭제") (Item Drag)</MudText>
                    </MudDropZone>
                </ChildContent>
                <ItemRenderer>
                    @if (context.Player != null)
                    {
                        <MudPaper Elevation="25" Class="pa-4 my-4">@(IsEnglish ? LoaParty.PartyCombinationsToString(context.Player).Replace("ㄷ", "D").Replace("ㅍ", "S") : LoaParty.PartyCombinationsToString(context.Player))</MudPaper>
                    }
                </ItemRenderer>
            </MudDropContainer>
        </MudItem>
        <MudItem xs="12" sm="12">
            <MudGrid>
                <MudItem xs="12">
                    <MudStack>
                        <MudButton OnClick="ClearButtonClick" Variant="Variant.Filled" Color="Color.Secondary">Clear</MudButton>
                    </MudStack>
                </MudItem>
                <MudItem xs="6">
                    <MudStack>
                        <MudButton OnClick="@(()=>{OnClick("DDDD");})" Disabled="@enabledDDDD" id="dddd" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "DDDD" : "ㄷㄷㄷㄷ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("DDDS");})" Disabled="@enabledDDDS" id="ddds" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "DDDS" : "ㄷㄷㄷㅍ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("DDSS");})" Disabled="@enabledDDSS" id="ddss" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "DDSS" : "ㄷㄷㅍㅍ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("DSSS");})" Disabled="@enabledDSSS" id="dsss" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "DSSS" : "ㄷㅍㅍㅍ")</MudButton>
                    </MudStack>

                </MudItem>
                <MudItem xs="6">
                    <MudStack>
                        <MudButton OnClick="@(()=>{OnClick("SDDD");})" Disabled="@enabledSDDD" id="sddd" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "SDDD" : "ㅍㄷㄷㄷ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("SDDS");})" Disabled="@enabledSDDS" id="sdds" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "SDDS" : "ㅍㄷㄷㅍ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("SDSS");})" Disabled="@enabledSDSS" id="sdss" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "SDSS" : "ㅍㄷㅍㅍ")</MudButton>
                        <MudButton OnClick="@(()=>{OnClick("SSSS");})" Disabled="@enabledSSSS" id="ssss" Variant="Variant.Filled" Color="Color.Surface">@(IsEnglish ? "SSSS" : "ㅍㅍㅍㅍ")</MudButton>
                    </MudStack>
                </MudItem>
                <MudItem xs="12">
                    <MudStack>
                        <MudButton OnClick="MakeButtonClick" Variant="Variant.Filled" Color="Color.Primary">Make</MudButton>
                        <MudTextField @bind-Value="ResultValue" Label="@(IsEnglish ? "Party Order" : "파티순서")" ReadOnly="true" Variant="Variant.Text" />
                        <MudButton OnClick="CopyButtonClick" Variant="Variant.Filled" Color="Color.Primary">Copy</MudButton>

                    </MudStack>
                </MudItem>
            </MudGrid>
        </MudItem>
    </MudGrid>
</MudItem>
